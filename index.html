<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>HAKTAN Kuruyemiş Şarküteri Sarayı - Online Satış</title>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
        rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@300;400;500;600;700;800;900&display=swap"
        rel="stylesheet" />
    <style>
        body {
            opacity: 1;
            transition: opacity 0.3s ease-in-out;
        }

        body.loaded {
            opacity: 1;
        }
    </style>
</head>

<body
    class="bg-background-light font-display text-text-dark min-h-screen flex flex-col overflow-x-hidden selection:bg-primary/20">

    <!-- Dynamic Header will be injected here by src/main.js -->

    <main class="flex-1 flex flex-col container mx-auto max-w-[1440px]">
        <section class="p-4 lg:p-6 w-full" id="hero-slider-container">
            <!-- Dynamic Hero injected here -->
        </section>
        <section class="grid grid-cols-2 md:grid-cols-4 gap-4 px-6 pb-8 border-b border-border-light mb-8">
            <div
                class="flex items-center gap-3 p-4 rounded-xl bg-section-bg border border-transparent hover:border-primary/20 transition-colors">
                <span class="material-symbols-outlined text-primary text-3xl">local_shipping</span>
                <div class="flex flex-col">
                    <span class="text-text-dark font-bold text-sm">Hızlı Teslimat</span>
                    <span class="text-text-muted text-xs">Aynı gün kargo</span>
                </div>
            </div>
            <div
                class="flex items-center gap-3 p-4 rounded-xl bg-section-bg border border-transparent hover:border-primary/20 transition-colors">
                <span class="material-symbols-outlined text-primary text-3xl">verified_user</span>
                <div class="flex flex-col">
                    <span class="text-text-dark font-bold text-sm">Tazelik Garantisi</span>
                    <span class="text-text-muted text-xs">Her zaman taze & lezzetli</span>
                </div>
            </div>
            <div
                class="flex items-center gap-3 p-4 rounded-xl bg-section-bg border border-transparent hover:border-primary/20 transition-colors">
                <span class="material-symbols-outlined text-primary text-3xl">workspace_premium</span>
                <div class="flex flex-col">
                    <span class="text-text-dark font-bold text-sm">Üstün Kalite</span>
                    <span class="text-text-muted text-xs">Özenle seçilmiş ürünler</span>
                </div>
            </div>
            <div
                class="flex items-center gap-3 p-4 rounded-xl bg-section-bg border border-transparent hover:border-primary/20 transition-colors">
                <span class="material-symbols-outlined text-primary text-3xl">support_agent</span>
                <div class="flex flex-col">
                    <span class="text-text-dark font-bold text-sm">7/24 Destek</span>
                    <span class="text-text-muted text-xs">Size yardım için buradayız</span>
                </div>
            </div>
        </section>
        <section id="collections" class="px-4 py-8 lg:py-12 bg-white">
            <div class="flex justify-between items-end mb-8 px-2">
                <div>
                    <h2 class="text-2xl lg:text-3xl font-black text-text-dark mb-2">Premium Koleksiyonlarımız</h2>
                    <p class="text-text-muted font-medium">En seçkin lezzetleri kategorilere göre keşfedin</p>
                </div>
                <a class="hidden md:flex items-center gap-1 text-primary text-sm font-bold hover:underline"
                    href="product_category.html">
                    Tüm Kategoriler <span class="material-symbols-outlined text-sm">arrow_forward</span>
                </a>
            </div>

            <!-- Updated Grid: 6 Columns on LG, 3 on MD, 2 on SM -->
            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4">

                <!-- 1. Kuruyemiş -->
                <a class="group relative overflow-hidden rounded-xl aspect-[3/4] shadow-md hover:shadow-xl transition-all duration-300"
                    href="product_category.html?cat=kuruyemis">
                    <div class="absolute inset-0 bg-cover bg-center transition-transform duration-700 group-hover:scale-110"
                        style="background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuAeNPGn5ZKpT5u0ZMpP2iA8-sKnN_wT3qr1Rx7Vg01dFABezIlXgWmlI9EmM1UJGUclszCSP4YWPXWcKEWo59nAg4wt2uwiHt3alE4PtcCu0isSobI54dgh3Uw3r3Ugba_WYp6zfm1kwi1kSJYWJtDOAclFpoXSFBCGmepTM4qbBjZ93uljAG5W7cbNhwryg3-GQ59iAr3KVZrKb3D8mHJw2-PaorfHr5mvI2w_tR2QrJUzqUTMLmkvAMgFFY6HAzPe4Mbc005ED7M');">
                    </div>
                    <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent"></div>
                    <div class="absolute bottom-0 left-0 p-4 w-full">
                        <h3
                            class="text-lg font-bold text-white mb-0.5 group-hover:text-primary-light transition-colors">
                            Kuruyemiş</h3>
                        <p class="text-gray-300 text-xs font-medium">Taze Kavrulmuş</p>
                    </div>
                </a>

                <!-- 2. Şarküteri -->
                <a class="group relative overflow-hidden rounded-xl aspect-[3/4] shadow-md hover:shadow-xl transition-all duration-300"
                    href="product_category.html?cat=sarkuteri">
                    <div class="absolute inset-0 bg-cover bg-center transition-transform duration-700 group-hover:scale-110"
                        style="background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuBH8VArVN6n-tDprj6IDSnMMJenTyMsneYlONbSgyLLQtLVqg2Zu1iToepDwvvJ-HvRMC0ZRgNQyvwduy48jJY9jFYknpURMheNX8BL63p1TSNsw7CvC4aDIBB04Y2zmmwNhjT9rSaBtbx2A2-VOO7gDHyJ8Pp4Ti4OrPfhRTQhnUATQXg7mnAKxhDz6_G2dzXLQJkO7QgSomHSgKs5KWuLreEVMmx1WJ8vRm7q-xa8PT1-rtgRUkI8IpJbvWgYpN9t9vTacy5xZZI');">
                    </div>
                    <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent"></div>
                    <div class="absolute bottom-0 left-0 p-4 w-full">
                        <h3
                            class="text-lg font-bold text-white mb-0.5 group-hover:text-primary-light transition-colors">
                            Şarküteri</h3>
                        <p class="text-gray-300 text-xs font-medium">Gurme Lezzetler</p>
                    </div>
                </a>

                <!-- 3. Aktar -->
                <a class="group relative overflow-hidden rounded-xl aspect-[3/4] shadow-md hover:shadow-xl transition-all duration-300"
                    href="product_category.html?cat=aktar">
                    <div class="absolute inset-0 bg-cover bg-center transition-transform duration-700 group-hover:scale-110"
                        style="background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuAQJC22B122cg_g0zbJ1XGhfxg0JsvL3V9ksOAUBP-4e2pjSbwpBqV7vtayhkVTFco4-FSlsinxkCuzjShevJs3-FHc5MW1abKoPFLNhkBc_Zbz6sOOIQJM7HYygoiaoUGfeGeU7-LnMmD2hd8mvgbWTa62Q7TS5ese8KUDLyJYvY6jwIjg6n9HKAI4p_vyEPoTMQOpvMFVKNe_4G5VXBTMrt3ZJURgGGAflv5O89IW8JUBdeloUXWbMd4B9ytdlc251FAfXvx7HzM');">
                    </div>
                    <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent"></div>
                    <div class="absolute bottom-0 left-0 p-4 w-full">
                        <h3
                            class="text-lg font-bold text-white mb-0.5 group-hover:text-primary-light transition-colors">
                            Aktar</h3>
                        <p class="text-gray-300 text-xs font-medium">Şifalı Bitkiler</p>
                    </div>
                </a>

                <!-- 4. Bakliyat (New) -->
                <a class="group relative overflow-hidden rounded-xl aspect-[3/4] shadow-md hover:shadow-xl transition-all duration-300"
                    href="product_category.html?cat=bakliyat">
                    <div class="absolute inset-0 bg-cover bg-center transition-transform duration-700 group-hover:scale-110"
                        style="background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuC1_Y28S-cK9p9C7c2v3z0O6D8k4L7M5N9P1o2Q3R4S_T5U6V7W8X9Y0Z1a2B3c4D5e6F7g8H9i0J1k2L3m4N5o6P7q8R9s0T1u2V3w4X5y6Z7a8B9c0D1e2F3g4H5i6J7k8L9m0N1o2P3q4R5s6T7u8V9w0X1y2Z3a4B5c6');">
                        <!-- Placeholder image URL, using one of the existing valid URLs or a new one to simulate visual diversity -->
                        <!-- Using a generic food/grain like image from a reliable source would be better, but re-using one for simulation and then noting to user to update is standard. 
                              Let's use a visibly different valid image from the set or a color placeholder if needed. 
                              I will use the "Aktar" image with a filter or just a similar one for now to ensure it loads.
                              Actually, I will use a reliable unsplash/placeholder for "Legumes" if I can, but keeping to "lh3" links implies internal assets.
                              I will reuse the Şarküteri one for now but label it correctly, or ideally, use a real one.
                              Let's use the first one again but distinct. 
                              Actually, I'll use a placeholder from a standard library if possible? No, user wants specific style. 
                              I will use the "Aktar" image but focused differently conceptually. 
                              BETTER: I'll use the Kuruyemiş image but different crop? No. 
                              I will use the same image as Aktar for Bakliyat for now as a placeholder, changing the title. 
                              Wait, I can try to find if I used other images. 
                              Let's just use the Aktar image for Bakliyat, and Şarküteri for Yöresel. Limiting distinct images availability.
                         -->
                    </div>
                    <div class="absolute inset-0 bg-cover bg-center transition-transform duration-700 group-hover:scale-110"
                        style="background-image: url('https://images.unsplash.com/photo-1586201375761-83865001e31c?q=80&w=1000&auto=format&fit=crop');">
                    </div>
                    <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent"></div>
                    <div class="absolute bottom-0 left-0 p-4 w-full">
                        <h3
                            class="text-lg font-bold text-white mb-0.5 group-hover:text-primary-light transition-colors">
                            Bakliyat</h3>
                        <p class="text-gray-300 text-xs font-medium">Doğal & Yerli</p>
                    </div>
                </a>

                <!-- 5. Pestil & Köme (New) -->
                <a class="group relative overflow-hidden rounded-xl aspect-[3/4] shadow-md hover:shadow-xl transition-all duration-300"
                    href="product_category.html?cat=pestil">
                    <div class="absolute inset-0 bg-cover bg-center transition-transform duration-700 group-hover:scale-110"
                        style="background-image: url('https://images.unsplash.com/photo-1595981267035-7b04ca84a82d?q=80&w=1000&auto=format&fit=crop');">
                    </div>
                    <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent"></div>
                    <div class="absolute bottom-0 left-0 p-4 w-full">
                        <h3
                            class="text-lg font-bold text-white mb-0.5 group-hover:text-primary-light transition-colors">
                            Pestil & Köme</h3>
                        <p class="text-gray-300 text-xs font-medium">Geleneksel Tatlar</p>
                    </div>
                </a>

                <!-- 6. Yöresel Ürünler (New) -->
                <a class="group relative overflow-hidden rounded-xl aspect-[3/4] shadow-md hover:shadow-xl transition-all duration-300"
                    href="product_category.html?cat=yoresel">
                    <div class="absolute inset-0 bg-cover bg-center transition-transform duration-700 group-hover:scale-110"
                        style="background-image: url('https://images.unsplash.com/photo-1627308595229-7830a5c91f9f?q=80&w=1000&auto=format&fit=crop');">
                    </div>
                    <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent"></div>
                    <div class="absolute bottom-0 left-0 p-4 w-full">
                        <h3
                            class="text-lg font-bold text-white mb-0.5 group-hover:text-primary-light transition-colors">
                            Yöresel Ürünler</h3>
                        <p class="text-gray-300 text-xs font-medium">Anadolu'dan</p>
                    </div>
                </a>

            </div>
        </section>

        <!-- Campaign section maintained -->
        <section
            class="bg-section-bg py-4 lg:py-6 px-4 rounded-[2rem] mx-4 lg:mx-6 mb-6 relative overflow-hidden shadow-inner border border-border-light">
            <!-- ... content ... -->
            <div class="container mx-auto relative z-10">
                <div class="flex flex-col md:flex-row justify-between items-center mb-4 gap-4">
                    <div class="text-center md:text-left">
                        <div
                            class="inline-block px-3 py-1 bg-red-100 text-red-600 rounded text-xs font-bold uppercase mb-3 border border-red-200">
                            Sınırlı Süre Fırsat</div>
                        <h2 class="text-3xl lg:text-4xl font-black text-text-dark">Haftanın Kampanyaları</h2>
                    </div>
                    <div class="flex gap-2">
                        <button id="campaignPrev"
                            class="w-10 h-10 rounded-full border border-border-light bg-white flex items-center justify-center text-text-dark hover:bg-primary hover:border-primary hover:text-white transition-all shadow-sm">
                            <span class="material-symbols-outlined">chevron_left</span>
                        </button>
                        <button id="campaignNext"
                            class="w-10 h-10 rounded-full border border-border-light bg-white flex items-center justify-center text-text-dark hover:bg-primary hover:border-primary hover:text-white transition-all shadow-sm">
                            <span class="material-symbols-outlined">chevron_right</span>
                        </button>
                    </div>
                </div>
                <div class="campaign-carousel flex gap-4 overflow-x-auto snap-x snap-mandatory scroll-smooth pb-0 no-scrollbar"
                    id="weeklyCampaignsGrid">
                    <!-- Dynamic Content -->
                </div>
            </div>
        </section>

        <!-- Script to inject Weekly Products -->
        <script type="module">
            import { getCampaignProducts } from './src/modules/campaigns.js';
            import { getProduct, getProducts, seedProducts } from './src/modules/products.js';
            import { formatPrice, CATEGORY_NAMES } from './src/modules/utils.js';

            // Ensure products are loaded
            if (getProducts().length === 0) {
                seedProducts();
            }

            const weeklyContainer = document.getElementById('weeklyCampaignsGrid');
            const selectedIds = getCampaignProducts();

            if (selectedIds.length > 0) {
                const products = selectedIds.map(id => getProduct(id)).filter(p => p);

                if (products.length > 0) {
                    weeklyContainer.innerHTML = products.map(p => `
                    <div class="group bg-white border border-border-light rounded-2xl overflow-hidden hover:border-primary/50 transition-all hover:shadow-xl hover:shadow-gray-200 flex flex-col h-full min-w-[280px] snap-start">
                        <div class="relative aspect-square overflow-hidden bg-gray-50">
                            ${p.oldPrice ? `<span class="absolute top-3 left-3 bg-red-600 text-white text-xs font-bold px-2 py-1 rounded z-10 shadow-sm">-${Math.round((1 - p.price / p.oldPrice) * 100)}%</span>` : ''}
                            <img src="${p.image}" class="object-cover w-full h-full group-hover:scale-105 transition-transform duration-500">
                            <button onclick="HaktanApp.addToCart(${p.id});HaktanApp.showToast('Sepete Eklendi')"
                                class="absolute bottom-3 right-3 bg-white text-text-dark p-2.5 rounded-full shadow-lg opacity-0 translate-y-4 group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-300 hover:bg-primary hover:text-white border border-gray-100">
                                <span class="material-symbols-outlined text-[20px]">add_shopping_cart</span>
                            </button>
                        </div>
                        <div class="p-5 flex flex-col flex-1">
                            <div class="text-text-muted text-xs font-bold uppercase tracking-wider mb-1.5">${CATEGORY_NAMES[p.category] || p.category}</div>
                            <h3 class="text-text-dark font-bold text-lg mb-2 line-clamp-2 leading-tight group-hover:text-primary transition-colors">${p.name}</h3>
                            <div class="mt-auto flex items-end justify-between border-t border-gray-100 pt-3">
                                <div class="flex flex-col">
                                    ${p.oldPrice ? `<span class="text-text-muted text-sm line-through decoration-red-400">${formatPrice(p.oldPrice)}</span>` : ''}
                                    <span class="text-primary text-xl font-black">${formatPrice(p.price)}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                `).join('');
                } else {
                    weeklyContainer.innerHTML = `<p class="col-span-full text-center text-gray-400 py-10 italic">Seçilen kampanya ürünleri stokta yok.</p>`;
                }
            } else {
                // Fallback or empty state
                weeklyContainer.innerHTML = `<p class="col-span-full text-center text-gray-400 py-10 italic">Bu hafta için kampanya bulunmuyor.</p>`;
            }
        </script>

        <section class="px-4 pb-12">
            <div class="bg-[#2c241b] rounded-2xl p-8 lg:p-12 relative overflow-hidden shadow-2xl">
                <div class="relative z-10 flex flex-col lg:flex-row items-center justify-between gap-8">
                    <div class="max-w-xl text-white">
                        <h3 class="text-3xl lg:text-4xl font-black mb-3 text-primary-light">HAKTAN Ailesine Katılın</h3>
                        <p class="text-lg opacity-90 font-light text-gray-200">İlk siparişinizde %10 indirim kazanın.
                        </p>
                    </div>
                    <div class="w-full max-w-md">
                        <form class="flex gap-2">
                            <input
                                class="flex-1 rounded-lg border-0 px-4 py-4 text-text-dark bg-white focus:ring-2 focus:ring-primary placeholder:text-gray-400 shadow-lg"
                                placeholder="E-posta adresinizi giriniz" type="email" />
                            <button
                                class="bg-primary text-white px-6 py-4 rounded-lg font-bold hover:bg-[#a0740a] transition-colors shadow-lg active:scale-95"
                                type="button">Abone Ol</button>
                        </form>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Dynamic Footer will be injected here -->

    <script type="module" src="/src/main.js"></script>
    <script type="module">
        import { getSliders } from './src/modules/campaigns.js';

        const sliders = getSliders().filter(s => s.active);
        const container = document.getElementById('hero-slider-container');

        if (sliders.length > 0) {
            // For now, take the first active slider. 
            // TODO: Implement actual carousel for multiple sliders.
            const s = sliders[0];

            container.innerHTML = `
            <div class="relative w-full rounded-2xl overflow-hidden min-h-[450px] lg:min-h-[550px] flex items-center bg-cover bg-center group shadow-xl"
                style="background-image: linear-gradient(to right, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.6) 40%, rgba(255,255,255,0) 100%), url('${s.image}');">
                <div class="relative z-10 px-6 lg:px-16 max-w-2xl flex flex-col gap-6 animate-fade-in-up">
                    <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-primary/10 border border-primary/20 w-fit backdrop-blur-sm">
                        <span class="material-symbols-outlined text-primary text-sm">verified</span>
                        <span class="text-primary text-xs font-bold uppercase tracking-wide">Özel Seçim</span>
                    </div>
                    <h1 class="text-5xl lg:text-7xl font-black leading-tight tracking-tight text-text-dark drop-shadow-sm">
                        ${s.title}
                    </h1>
                    <p class="text-text-muted text-lg lg:text-xl font-normal leading-relaxed max-w-lg">
                        ${s.subtitle}
                    </p>
                    <div class="flex flex-wrap gap-4 pt-4">
                        <a href="${s.buttonLink || '#'}"
                            class="bg-primary hover:bg-[#d68311] text-white px-8 py-4 rounded-lg font-bold text-base transition-transform active:scale-95 shadow-lg shadow-primary/30 flex items-center gap-2">
                            ${s.buttonText || 'İncele'}
                            <span class="material-symbols-outlined text-sm">arrow_forward</span>
                        </a>
                    </div>
                </div>
            </div>`;
        }
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Campaign carousel
            var campaignGrid = document.querySelector('.campaign-carousel');
            var prevBtn = document.getElementById('campaignPrev');
            var nextBtn = document.getElementById('campaignNext');
            if (campaignGrid && prevBtn && nextBtn) {
                // Determine scroll amount based on card width + gap
                const getScrollAmount = () => {
                    const card = campaignGrid.querySelector('div');
                    return card ? card.offsetWidth + 16 : 300; // 16 is gap-4
                };

                prevBtn.addEventListener('click', function () {
                    campaignGrid.scrollBy({ left: -getScrollAmount(), behavior: 'smooth' });
                });
                nextBtn.addEventListener('click', function () {
                    campaignGrid.scrollBy({ left: getScrollAmount(), behavior: 'smooth' });
                });
            }
        });
    </script>
</body>

</html>